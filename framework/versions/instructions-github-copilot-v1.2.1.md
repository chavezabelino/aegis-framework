<!--
@aegisFrameworkVersion: 2.4.0
@intent: Versioned GitHub-copilot agent instructions for current framework state
@context: Blueprint-driven-development, Constitutional-governance, semantic-versioning, multi-agent-orchestration, MCP-metadata, drift-logging, adapter-interface, apprenticeship-scaffolds, mentor-system, learning-integration, advanced-observability, event-emission, Telemetry
@target: GitHub-copilot
@generatedFrom: Auto-generated by generate-agent-instructions.js
-->

# ü§ñ GitHub Copilot Instructions for Aegis Framework v1.2.1

> __Agent-specific guidance for GitHub Copilot working within the Aegis Framework ecosystem.**

## üèõÔ∏è Constitutional Compliance

**CRITICAL__: All operations must comply with the [Aegis Framework Constitution](../../CONSTITUTION.md). This includes:

- __Blueprint Primacy__: No code generation without corresponding Blueprint specifications
- __Mandatory Annotations__: All AI-generated files require Constitutional metadata
- __Traceability__: Every change must be traceable through blueprints and contracts
- __Semantic Versioning__: Strict adherence to Constitutional version management

## üéØ Framework Context (v1.2.1)

### Current Capabilities

- __Core__: Blueprint-driven development with v1.0.0-alpha specification
- __Multi-Agent__: v1.1.0-beta orchestration with agent coordination and handoffs
- __Apprenticeship__: v1.3.0 scaffolding system with mentor guidance
- __Observability__: MCP metadata emission, drift logging, run logs
- __CLI__: Enhanced tooling for Blueprint management, drift control, and apprenticeship

### Execution Modes

- __lean__: Minimal implementation focusing on core requirements
- __strict__: Full compliance with all Blueprint contracts and rules
- __generative__: Creative expansion within Constitutional boundaries

## üéØ GitHub Copilot Specific Guidance

### Your Capabilities

- __Languages__: TypeScript, python, go
- __Specializations__: full-stack, documentation
- __Coordination__: Multi-agent coordination supported

### Your Role in Multi-Agent Workflows

When working in coordinated environments:

- Recognize handoff triggers and coordination strategies
- Emit clear completion signals for downstream agents
- Provide detailed context during agent transitions
- Validate your output meets coordination requirements

## üîÅ Multi-Agent Orchestration Protocol

### Agent Coordination Awareness

When working in multi-agent environments:

```yaml
# Recognize your role in Blueprint coordination
agents:
  primary: GitHub-copilot
  specialized:
    - agent: cursor
      role: frontend-components
      scope: ["src/components/__"]
coordination:
  strategy: sequential
  handoff:
    - from: GitHub-copilot
      to: cursor
      trigger: "backend services complete"
```text

### Handoff Protocols

- __Before Handoff__: Emit clear completion signals and context
- __Context Transfer__: Provide detailed state and next steps
- __Validation__: Ensure your output meets handoff trigger conditions

## üèóÔ∏è Blueprint Compliance

### Mandatory Blueprint Structure

Every Blueprint must include:

```yaml
id: feat-feature-name
name: Human Readable Feature Name
version: 1.0.0
requiredRoutes: []
requiredProviders: []
requiredSelectors: []
ruleContracts:
  - id: validation-rule
    version: "1.0.0"
    description: "Rule description"
observability:
  events: []
errorStates: []
```text

### Blueprint Annotation Pattern

Always include in generated files:

```markdown
<!--
@aegisBlueprint: feat-feature-name
@version: 1.2.1
@mode: lean|strict|generative
@intent: Brief description of generated content
@context: Relevant Blueprint context
-->
```text

## üìÑ MCP Metadata Emission

### Required MCP Context

Always emit MCP metadata for observability:

```yaml
observability:
  mcpContext:
    modelProvider: "openai"
    modelVersion: "gpt-4"
    contextTokens: 4096
    responseTokens: 1024
    temperature: 0.1
    timestamp: "2025-08-06T14:23:02.305Z"
    sessionId: "Aegis-session-12345"
    blueprintHash: "SHA256:abc123..."
```text

### Event Emission Points

```yaml
events:
  - name: mcp_execution_start
    context: {blueprintId: string, agentId: "GitHub-copilot"}
    mcpFields: ["modelProvider", "contextTokens"]
  - name: mcp_execution_complete
    context: {outputMode: string, tokenUsage: number}
    mcpFields: ["responseTokens", "temperature"]
```text

## üß† Drift Detection & Response

### Drift Awareness

Monitor for these drift patterns:

- __Semantic Drift__: Output doesn't match Blueprint intent
- __Regression__: Previously working functionality breaks
- __Hallucination__: Generated content has factual errors
- __Performance__: Significant speed or quality degradation

### Drift Response Protocol

```bash
# If drift detected, log immediately
Aegis drift log --type=semantic_drift --severity=medium --Blueprint=feat-user-auth

# Request human review for critical drift
Aegis drift escalate --severity=critical --assignee=developer@company.com
```text

## üõ†Ô∏è CLI Integration

### Blueprint Management

```bash
# Initialize new Blueprint
Aegis Blueprint init feat-new-feature --agent=GitHub-copilot

# Validate before generation
Aegis Blueprint validate feat-new-feature

# Generate with mode specification
Aegis generate feat-new-feature --mode=strict --agent=GitHub-copilot
```text

### Essential Commands

```bash
# Blueprint workflow
Aegis Blueprint init <name>
Aegis generate <Blueprint> --mode=strict
Aegis test snapshot <Blueprint>

# Multi-agent coordination
Aegis agent handoff --to=<agent> --context="<message>"
Aegis drift log --type=<type> --severity=<level>
```text

## üîç Validation & Testing

### Snapshot Test Integration

Ensure generated code passes snapshot validation:

```bash
# Run framework snapshot tests
npm test -- tests/snapshot-tests/

# Validate specific Blueprint
Aegis test snapshot feat-user-auth
```text

### Constitutional Requirements

- ‚úÖ Blueprint specification exists
- ‚úÖ Mandatory annotations included
- ‚úÖ MCP metadata emitted
- ‚úÖ Error states implemented
- ‚úÖ Observability events configured

## üìö Knowledge Base

### Key Resources

- `framework/framework-core-v1.0.0-alpha.md`: Core specification
- `framework/versions/framework-core-v1.1.0-beta-spec.md`: Multi-agent features
- `CONSTITUTION.md`: Foundational principles
- `framework/agent-manifest.JSON`: Agent capabilities

### Blueprint Examples

- `blueprints/feat-public-viewing/`: Working multi-agent example
- `scaffolds/web-app-starter/`: Apprenticeship scaffold pattern

---

## üéØ Quick Reference

### Essential Commands

```bash
# Blueprint workflow
Aegis Blueprint init <name>
Aegis generate <Blueprint> --mode=strict
Aegis test snapshot <Blueprint>

# Multi-agent coordination
Aegis agent handoff --to=<agent> --context="<message>"
Aegis drift log --type=<type> --severity=<level>

# Apprenticeship
Aegis apprentice start --scaffold=<name>
Aegis apprentice submit --component=<name>
```text

### Constitutional Requirements

- ‚úÖ Blueprint specification exists
- ‚úÖ Mandatory annotations included
- ‚úÖ MCP metadata emitted
- ‚úÖ Error states implemented
- ‚úÖ Observability events configured

---

**Version__: 1.2.1  
**Last Updated__: 2025-08-06  
**Target Agent__: GitHub Copilot  
**Framework Authority__: Aegis Framework Constitution
