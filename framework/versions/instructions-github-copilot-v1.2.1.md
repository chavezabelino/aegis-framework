<!--
@aegisFrameworkVersion: 2.4.0
@intent: Versioned github-copilot agent instructions for current framework state
@context: blueprint-driven-development, constitutional-governance, semantic-versioning, multi-agent-orchestration, mcp-metadata, drift-logging, adapter-interface, apprenticeship-scaffolds, mentor-system, learning-integration, advanced-observability, event-emission, telemetry
@target: github-copilot
@generatedFrom: Auto-generated by generate-agent-instructions.js
-->

# ü§ñ Github Copilot Instructions for Aegis Framework v1.2.1

> **Agent-specific guidance for Github Copilot working within the Aegis Framework ecosystem.**

## üèõÔ∏è Constitutional Compliance

**CRITICAL**: All operations must comply with the [Aegis Framework Constitution](../../CONSTITUTION.md). This includes:

- **Blueprint Primacy**: No code generation without corresponding blueprint specifications
- **Mandatory Annotations**: All AI-generated files require constitutional metadata
- **Traceability**: Every change must be traceable through blueprints and contracts
- **Semantic Versioning**: Strict adherence to constitutional version management

## üéØ Framework Context (v1.2.1)

### Current Capabilities
- **Core**: Blueprint-driven development with v1.0.0-alpha specification
- **Multi-Agent**: v1.1.0-beta orchestration with agent coordination and handoffs
- **Apprenticeship**: v1.3.0 scaffolding system with mentor guidance
- **Observability**: MCP metadata emission, drift logging, run logs
- **CLI**: Enhanced tooling for blueprint management, drift control, and apprenticeship

### Execution Modes
- **lean**: Minimal implementation focusing on core requirements
- **strict**: Full compliance with all blueprint contracts and rules
- **generative**: Creative expansion within constitutional boundaries

## üéØ Github Copilot Specific Guidance

### Your Capabilities
- **Languages**: typescript, python, go
- **Specializations**: full-stack, documentation
- **Coordination**: Multi-agent coordination supported

### Your Role in Multi-Agent Workflows

When working in coordinated environments:
- Recognize handoff triggers and coordination strategies
- Emit clear completion signals for downstream agents
- Provide detailed context during agent transitions
- Validate your output meets coordination requirements

## üîÅ Multi-Agent Orchestration Protocol

### Agent Coordination Awareness
When working in multi-agent environments:

```yaml
# Recognize your role in blueprint coordination
agents:
  primary: github-copilot
  specialized:
    - agent: cursor
      role: frontend-components
      scope: ["src/components/**"]
coordination:
  strategy: sequential
  handoff:
    - from: github-copilot
      to: cursor
      trigger: "backend services complete"
```

### Handoff Protocols
- **Before Handoff**: Emit clear completion signals and context
- **Context Transfer**: Provide detailed state and next steps
- **Validation**: Ensure your output meets handoff trigger conditions

## üèóÔ∏è Blueprint Compliance

### Mandatory Blueprint Structure
Every blueprint must include:

```yaml
id: feat-feature-name
name: Human Readable Feature Name
version: 1.0.0
requiredRoutes: []
requiredProviders: []
requiredSelectors: []
ruleContracts:
  - id: validation-rule
    version: "1.0.0"
    description: "Rule description"
observability:
  events: []
errorStates: []
```

### Blueprint Annotation Pattern
Always include in generated files:
```markdown
<!--
@aegisBlueprint: feat-feature-name
@version: 1.2.1
@mode: lean|strict|generative
@intent: Brief description of generated content
@context: Relevant blueprint context
-->
```

## üìÑ MCP Metadata Emission

### Required MCP Context
Always emit MCP metadata for observability:

```yaml
observability:
  mcpContext:
    modelProvider: "openai"
    modelVersion: "gpt-4"
    contextTokens: 4096
    responseTokens: 1024
    temperature: 0.1
    timestamp: "2025-08-06T14:23:02.305Z"
    sessionId: "aegis-session-12345"
    blueprintHash: "sha256:abc123..."
```

### Event Emission Points
```yaml
events:
  - name: mcp_execution_start
    context: { blueprintId: string, agentId: "github-copilot" }
    mcpFields: ["modelProvider", "contextTokens"]
  - name: mcp_execution_complete
    context: { outputMode: string, tokenUsage: number }
    mcpFields: ["responseTokens", "temperature"]
```

## üß† Drift Detection & Response

### Drift Awareness
Monitor for these drift patterns:
- **Semantic Drift**: Output doesn't match blueprint intent
- **Regression**: Previously working functionality breaks
- **Hallucination**: Generated content has factual errors
- **Performance**: Significant speed or quality degradation

### Drift Response Protocol
```bash
# If drift detected, log immediately
aegis drift log --type=semantic_drift --severity=medium --blueprint=feat-user-auth

# Request human review for critical drift
aegis drift escalate --severity=critical --assignee=developer@company.com
```

## üõ†Ô∏è CLI Integration

### Blueprint Management
```bash
# Initialize new blueprint
aegis blueprint init feat-new-feature --agent=github-copilot

# Validate before generation
aegis blueprint validate feat-new-feature

# Generate with mode specification
aegis generate feat-new-feature --mode=strict --agent=github-copilot
```

### Essential Commands
```bash
# Blueprint workflow
aegis blueprint init <name>
aegis generate <blueprint> --mode=strict
aegis test snapshot <blueprint>

# Multi-agent coordination
aegis agent handoff --to=<agent> --context="<message>"
aegis drift log --type=<type> --severity=<level>
```

## üîç Validation & Testing

### Snapshot Test Integration
Ensure generated code passes snapshot validation:
```bash
# Run framework snapshot tests
npm test -- tests/snapshot-tests/

# Validate specific blueprint
aegis test snapshot feat-user-auth
```

### Constitutional Requirements
- ‚úÖ Blueprint specification exists
- ‚úÖ Mandatory annotations included
- ‚úÖ MCP metadata emitted
- ‚úÖ Error states implemented
- ‚úÖ Observability events configured

## üìö Knowledge Base

### Key Resources
- `framework/framework-core-v1.0.0-alpha.md`: Core specification
- `framework/versions/framework-core-v1.1.0-beta-spec.md`: Multi-agent features
- `CONSTITUTION.md`: Foundational principles
- `framework/agent-manifest.json`: Agent capabilities

### Blueprint Examples
- `blueprints/feat-public-viewing/`: Working multi-agent example
- `scaffolds/web-app-starter/`: Apprenticeship scaffold pattern

---

## üéØ Quick Reference

### Essential Commands
```bash
# Blueprint workflow
aegis blueprint init <name>
aegis generate <blueprint> --mode=strict
aegis test snapshot <blueprint>

# Multi-agent coordination
aegis agent handoff --to=<agent> --context="<message>"
aegis drift log --type=<type> --severity=<level>

# Apprenticeship
aegis apprentice start --scaffold=<name>
aegis apprentice submit --component=<name>
```

### Constitutional Requirements
- ‚úÖ Blueprint specification exists
- ‚úÖ Mandatory annotations included
- ‚úÖ MCP metadata emitted
- ‚úÖ Error states implemented
- ‚úÖ Observability events configured

---

**Version**: 1.2.1  
**Last Updated**: 2025-08-06  
**Target Agent**: Github Copilot  
**Framework Authority**: Aegis Framework Constitution